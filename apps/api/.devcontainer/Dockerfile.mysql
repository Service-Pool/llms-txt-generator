FROM mysql:8.0

# Set default character set and collation
ENV MYSQL_CHARSET=utf8mb4
ENV MYSQL_COLLATION=utf8mb4_unicode_ci

# Copy custom MySQL configuration if needed
COPY _configs/my.cnf /etc/mysql/conf.d/

# The official MySQL image will automatically run any .sql files
# in /docker-entrypoint-initdb.d/ on first startup
# Our migrations are mounted there via docker-compose volumes

EXPOSE 3306

CMD ["bash", "/tmp/app/cmd-mysql.sh"]